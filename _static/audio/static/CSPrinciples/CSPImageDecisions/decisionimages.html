<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using Decisions with Images &mdash; CS Principles</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/underscore-min.js"></script>
    <script type="text/javascript" src="../_static/lib/lis.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/parsons-noconflict.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="top" title="CS Principles" href="../index.html" />
    <link rel="next" title="Working with Collections of Data" href="../CSPIntroData/datapieces2.html" />
    <link rel="prev" title="Turtle Functions and Procedures" href="../CSPTurtleDecisions/decisionTurtle.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'CSPrinciples';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = true
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">CS Principles</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div class="gittip">
                  <iframe style="border:0;"
                    src="https://www.gittip.com/bnmnetp/widget.html"
                    width="48pt" height="22pt" class="gittip-button">
                  </iframe>
                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/CSPrinciples/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='http://127.0.0.1:8000/runestone/admin/index'>Instructor's Page</a></li>
            <li class="divider"></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/register" id="registerlink">Register</a></li>
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
          </ul>
        </li>
        <!-- end user account dropdown -->

        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/CSPrinciples/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='https://github.com/bnmnetp/runestone/issues/new'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Using Decisions with Images</a></li>
<li><a class="reference internal" href="#combining-pictures">Combining Pictures</a></li>
<li><a class="reference internal" href="#if-and-else-with-images">If and Else with Images</a></li>
<li><a class="reference internal" href="#multiple-if-s-with-images">Multiple If&#8217;s with Images</a></li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - Turtle Functions and Procedures" data-toggle="tooltip">
    <a href="../CSPTurtleDecisions/decisionTurtle.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Working with Collections of Data' data-toggle="tooltip" >
    <a href="../CSPIntroData/datapieces2.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container">
  
  <div class="section" id="using-decisions-with-images">
<h1>Using Decisions with Images<a class="headerlink" href="#using-decisions-with-images" title="Permalink to this headline">¶</a></h1>
<img src="../_static/gal2.jpg" id="gal2.jpg"><p>We can create image effects by conditionally executing code.  In the code below we will try to change the color of the women&#8217;s shirt.  We will clear the red value for any pixel that has a red value greater than 200 and a green value of less than 100 and a blue value of less than 100.</p>

<div id="cont"></div>
<div id="Color_Replace" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="Color_Replace_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Color_Replace_saveb" onclick="saveEditor('Color_Replace');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Color_Replace_loadb" onclick="requestCode('Color_Replace');">Load</button>

<span class="ac_sep"></span>
<input type="button" class='btn btn-default ' id="audiob" name="Play Audio" value="Start Audio Tour" onclick="createAudioTourHTML('Color_Replace','import image*nline**nline*# CREATE AN IMAGE FROM A FILE*nline*img = image.Image*open**doubleq*gal2.jpg*doubleq**close**nline**nline*# LOOP THROUGH ALL PIXELS*nline*for x in range*open*img.getWidth*open**close**close*:*nline*    for y in range*open*img.getHeight*open**close**close*:*nline*        p = img.getPixel*open*x, y*close**nline*        r = p.getRed*open**close**nline*        g = p.getGreen*open**close**nline*        b = p.getBlue*open**close**nline**nline*        # VALUES FOR THE NEW COLOR*nline*        if r > 200 and g < 100 and b < 100:*nline**nline*           # CREATE THE COLOR*nline*           newPixel = image.Pixel*open*0, g, b*close**nline**nline*           # CHANGE THE IMAGE*nline*           img.setPixel*open*x, y, newPixel*close**nline**nline*win = image.ImageWin*open**close**nline*img.draw*open*win*close*','1','*doubleq*Structural Tour*doubleq*; 1: id1-line1; 4: id1-line4; 7-8: id1-line7-8; 9: id1-line9; 10-12: id1-line10-12; 15: id1-line15; 18: id1-line18; 21: id1-line21; 23-24: id1-line23-24;*atype*')"/>

</div>
<br/>
<div id="Color_Replace_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="Color_Replace_code" class="active_code" prefixcode="undefined" lang="python">
import image

# CREATE AN IMAGE FROM A FILE
img = image.Image("gal2.jpg")

# LOOP THROUGH ALL PIXELS
for x in range(img.getWidth()):
    for y in range(img.getHeight()):
        p = img.getPixel(x, y)
        r = p.getRed()
        g = p.getGreen()
        b = p.getBlue()

        # VALUES FOR THE NEW COLOR
        if r > 200 and g < 100 and b < 100:

           # CREATE THE COLOR
           newPixel = image.Pixel(0, g, b)

           # CHANGE THE IMAGE
           img.setPixel(x, y, newPixel)

win = image.ImageWin()
img.draw(win)
</textarea>
</div>

<div class="ac_output">
<div style="text-align: center">
<canvas id="Color_Replace_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="Color_Replace_suffix" style="display:none">
</pre><pre id="Color_Replace_pre" class="active_out"></pre>

</div> <!-- end output --> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text"> (Color_Replace)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#Color_Replace_saveb').toggle();
    $('#Color_Replace_loadb').toggle();
}
if ($("#Color_Replace").attr("lang") !== "html" && $("#Color_Replace_code_div").parents(".admonition").length == 0 && $("#Color_Replace_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#Color_Replace_code_div").offset({
			left: $("#Color_Replace .clearfix").offset().left
		});
	}
	$("#Color_Replace_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#Color_Replace_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#Color_Replace_runb").parent().siblings(".ac_output").show();
			runit('Color_Replace',this, undefined);
			$("#Color_Replace_runb").on("click", function(){
				runit('Color_Replace',this, undefined);
			});
		})
		
	});
}
else{
	$("#Color_Replace_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#Color_Replace_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#Color_Replace_runb").on("click", function(){
		runit('Color_Replace',this, undefined);
	});
}
</script>

</div>

<p>What happens if we only test if red is greater than 200? Change the code above to try it.</p>
<p>Can you find values that work well to only change the shirt color and not anything else?</p>
<p>Remember that white light is a combination of red, green, and blue light with each value at 255 for totally white light.  Try to change just the white background to green.</p>
</div>
<div class="section" id="combining-pictures">
<h1>Combining Pictures<a class="headerlink" href="#combining-pictures" title="Permalink to this headline">¶</a></h1>
<p>We can use a conditional to copy just the non-white pixels from one picture to another picture.  We can take this tiny image of the women and put her by the Eiffel tower in Paris, France.</p>
<img src="../_static/lady_tiny.png" id="lady_tiny.png">
<img src="../_static/eiffel.jpg" id="eiffel.jpg">
<div id="cont"></div>
<div id="Copy_Non_White" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="Copy_Non_White_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Copy_Non_White_saveb" onclick="saveEditor('Copy_Non_White');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Copy_Non_White_loadb" onclick="requestCode('Copy_Non_White');">Load</button>

<span class="ac_sep"></span>
<input type="button" class='btn btn-default ' id="audiob" name="Play Audio" value="Start Audio Tour" onclick="createAudioTourHTML('Copy_Non_White','import image*nline**nline*# CREATE THE IMAGES*nline*img1 = image.Image*open**doubleq*lady_tiny.png*doubleq**close**nline*img2 = image.Image*open**doubleq*eiffel.jpg*doubleq**close**nline**nline*# LOOP THROUGH ALL THE PIXELS IN IMG1*nline*for x in range*open*img1.getWidth*open**close**close*:*nline*    for y in range*open*img1.getHeight*open**close**close*:*nline*        p1 = img1.getPixel*open*x, y*close**nline*        r1 = p1.getRed*open**close**nline*        g1 = p1.getGreen*open**close**nline*        b1 = p1.getBlue*open**close**nline**nline*        # CHECK IF THE PIXEL ISN*singleq*T WHITE*nline*        if r1 < 250 and g1 < 250 and b1 < 250:*nline**nline*           # COPY THE COLOR TO IMG2*nline*           img2.setPixel*open*x, y + 130, p1*close**nline**nline*win = image.ImageWin*open**close**nline*img2.draw*open*win*close*','1','*doubleq*Structural Tour*doubleq*; 1: id2a-line1; 4-5: id2a-line4-5; 8-9: id2a-line8-9; 10: id2a-line10; 11-13: id2a-line11-13; 16: id2a-line16; 19: id2a-line19; 21-22: id2a-line21-22;*atype*')"/>

</div>
<br/>
<div id="Copy_Non_White_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="Copy_Non_White_code" class="active_code" prefixcode="undefined" lang="python">
import image

# CREATE THE IMAGES
img1 = image.Image("lady_tiny.png")
img2 = image.Image("eiffel.jpg")

# LOOP THROUGH ALL THE PIXELS IN IMG1
for x in range(img1.getWidth()):
    for y in range(img1.getHeight()):
        p1 = img1.getPixel(x, y)
        r1 = p1.getRed()
        g1 = p1.getGreen()
        b1 = p1.getBlue()

        # CHECK IF THE PIXEL ISN'T WHITE
        if r1 < 250 and g1 < 250 and b1 < 250:

           # COPY THE COLOR TO IMG2
           img2.setPixel(x, y + 130, p1)

win = image.ImageWin()
img2.draw(win)
</textarea>
</div>

<div class="ac_output">
<div style="text-align: center">
<canvas id="Copy_Non_White_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="Copy_Non_White_suffix" style="display:none">
</pre><pre id="Copy_Non_White_pre" class="active_out"></pre>

</div> <!-- end output --> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text"> (Copy_Non_White)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#Copy_Non_White_saveb').toggle();
    $('#Copy_Non_White_loadb').toggle();
}
if ($("#Copy_Non_White").attr("lang") !== "html" && $("#Copy_Non_White_code_div").parents(".admonition").length == 0 && $("#Copy_Non_White_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#Copy_Non_White_code_div").offset({
			left: $("#Copy_Non_White .clearfix").offset().left
		});
	}
	$("#Copy_Non_White_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#Copy_Non_White_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#Copy_Non_White_runb").parent().siblings(".ac_output").show();
			runit('Copy_Non_White',this, undefined);
			$("#Copy_Non_White_runb").on("click", function(){
				runit('Copy_Non_White',this, undefined);
			});
		})
		
	});
}
else{
	$("#Copy_Non_White_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#Copy_Non_White_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#Copy_Non_White_runb").on("click", function(){
		runit('Copy_Non_White',this, undefined);
	});
}
</script>

</div>

</div>
<div class="section" id="if-and-else-with-images">
<h1>If and Else with Images<a class="headerlink" href="#if-and-else-with-images" title="Permalink to this headline">¶</a></h1>
<p id="index-0">What if we want to identify objects in a picture?  For example we might want to find the swan in the following picture. One way to get started looking for an object is to find the points where the color changes substantially from one pixel to the next.  This is called <strong>edge detection</strong> and it is an important step in image processing.</p>
<img src="../_static/swan.jpg" id="swan.jpg"><p>To look for substantial color changes calculate the average color for the current pixel and the one to the the right of it. You can calculate the average as the sum of the red, green, and blue values divided by 3 (the number of values).  Then compare the absolute value of the difference in the averages and if it is greater than some amount set the current pixel to black, otherwise set it to white.  This will result in what looks like a simple pencil sketch of the picture.  Try larger and smaller values than 10 in line 21 to see how they change the result.</p>

<div id="cont"></div>
<div id="Edge_Detection" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="Edge_Detection_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Edge_Detection_saveb" onclick="saveEditor('Edge_Detection');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Edge_Detection_loadb" onclick="requestCode('Edge_Detection');">Load</button>

<span class="ac_sep"></span>
<input type="button" class='btn btn-default ' id="audiob" name="Play Audio" value="Start Audio Tour" onclick="createAudioTourHTML('Edge_Detection','import image*nline**nline*# CREATE AN IMAGE FROM A FILE*nline*img = image.Image*open**doubleq*swan.jpg*doubleq**close**nline**nline*# LOOP THROUGH ALL BUT LAST COLUMN*nline*for x in range*open*img.getWidth*open**close* - 1*close*:*nline*    for y in range*open*img.getHeight*open**close**close*:*nline*        p = img.getPixel*open*x, y*close**nline*        p2 = img.getPixel*open*x + 1, y*close**nline*        r1 = p.getRed*open**close**nline*        g1 = p.getGreen*open**close**nline*        b1 = p.getBlue*open**close**nline*        average1 = *open*r1 + g1 + b1*close* / 3*nline*        r2 = p2.getRed*open**close**nline*        g2 = p2.getGreen*open**close**nline*        b2 = p2.getBlue*open**close**nline*        average2 = *open*r2 + g2 + b2*close* / 3*nline**nline*        # VALUES FOR THE NEW COLOR*nline*        if abs*open*average2 - average1*close* > 10:*nline*           newPixel = image.Pixel*open*0, 0, 0*close**nline*        else:*nline*           newPixel = image.Pixel*open*255, 255, 255*close**nline**nline*        # CHANGE THE IMAGE*nline*        img.setPixel*open*x, y, newPixel*close**nline**nline*win = image.ImageWin*open**close**nline*img.draw*open*win*close*','1','*doubleq*Structural Tour*doubleq*;  1: id2b-line1; 4: id2b-line4; 7-8: id2b-line7-8; 9: id2b-line9; 10: id2b-line10; 11-13: id2b-line11-13; 14: id2b-line14; 15-17: id2b-line15-17; 18: id2b-line18; 21-22: id2b-line21-22; 23-24: id2b-line23-24; 27: id2b-line27; 29-30: id2b-line29-30;*atype*')"/>

</div>
<br/>
<div id="Edge_Detection_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="Edge_Detection_code" class="active_code" prefixcode="undefined" lang="python">
import image

# CREATE AN IMAGE FROM A FILE
img = image.Image("swan.jpg")

# LOOP THROUGH ALL BUT LAST COLUMN
for x in range(img.getWidth() - 1):
    for y in range(img.getHeight()):
        p = img.getPixel(x, y)
        p2 = img.getPixel(x + 1, y)
        r1 = p.getRed()
        g1 = p.getGreen()
        b1 = p.getBlue()
        average1 = (r1 + g1 + b1) / 3
        r2 = p2.getRed()
        g2 = p2.getGreen()
        b2 = p2.getBlue()
        average2 = (r2 + g2 + b2) / 3

        # VALUES FOR THE NEW COLOR
        if abs(average2 - average1) > 10:
           newPixel = image.Pixel(0, 0, 0)
        else:
           newPixel = image.Pixel(255, 255, 255)

        # CHANGE THE IMAGE
        img.setPixel(x, y, newPixel)

win = image.ImageWin()
img.draw(win)
</textarea>
</div>

<div class="ac_output">
<div style="text-align: center">
<canvas id="Edge_Detection_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="Edge_Detection_suffix" style="display:none">
</pre><pre id="Edge_Detection_pre" class="active_out"></pre>

</div> <!-- end output --> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text"> (Edge_Detection)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#Edge_Detection_saveb').toggle();
    $('#Edge_Detection_loadb').toggle();
}
if ($("#Edge_Detection").attr("lang") !== "html" && $("#Edge_Detection_code_div").parents(".admonition").length == 0 && $("#Edge_Detection_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#Edge_Detection_code_div").offset({
			left: $("#Edge_Detection .clearfix").offset().left
		});
	}
	$("#Edge_Detection_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#Edge_Detection_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#Edge_Detection_runb").parent().siblings(".ac_output").show();
			runit('Edge_Detection',this, undefined);
			$("#Edge_Detection_runb").on("click", function(){
				runit('Edge_Detection',this, undefined);
			});
		})
		
	});
}
else{
	$("#Edge_Detection_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#Edge_Detection_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#Edge_Detection_runb").on("click", function(){
		runit('Edge_Detection',this, undefined);
	});
}
</script>

</div>


            <div id="15-Edge" class="alert alert-warning">
            csp-15-1: How many different colors will be in our image (except the last column) when we are done?<form name="15-Edge_form" method="get" action="" onsubmit="return false;">
            <input type="radio" name="group1" value="a" id="15-Edge_opt_a" />
            <label for= "15-Edge_opt_a">  a) 0</label><br />
            
            <input type="radio" name="group1" value="b" id="15-Edge_opt_b" />
            <label for= "15-Edge_opt_b">  b) 2</label><br />
            
            <input type="radio" name="group1" value="c" id="15-Edge_opt_c" />
            <label for= "15-Edge_opt_c">  c) 256</label><br />
            
            <input type="radio" name="group1" value="d" id="15-Edge_opt_d" />
            <label for= "15-Edge_opt_d">  d) 16,777,216 (= 256 * 256 * 256)</label><br />
            

            <script>
            $(document).ready(function(){checkRadio('15-Edge');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMFStorage('15-Edge','b',['Black and white are colors.', 'This image will only have black or white pixels in all columns except the rightmost one.  The pixel colors in the rightmost column will not be changed.', 'This would be true if we were only using shades of gray, but we are only using two colors.', 'This would be true if we were using all color values, but we are only using black and white.'])">Check Me</button>
            <button class='btn btn-default' id="15-Edge_bcomp" disabled name="compare" onclick="compareAnswers('15-Edge');">Compare Me</button>
            </form><br />
            <div id="15-Edge_feedback">
            </div>
            </div>
            </div>
<div class="section" id="multiple-if-s-with-images">
<h1>Multiple If&#8217;s with Images<a class="headerlink" href="#multiple-if-s-with-images" title="Permalink to this headline">¶</a></h1>
<p id="index-1">We can use multiple if&#8217;s to reduce the number of colors in an image.  Let&#8217;s say that if we have a little bit of each of red, green, and blue, we want to make each of them zero.  If we have more, we set them to a mid-range value like 120.  This is called <em>posterizing</em> because it reduces all the colors in a picture to a small number of colors &#8211; like the ones you might use if you were making a poster.</p>
<img src="../_static/arch.jpg" id="arch.jpg">
<div id="cont"></div>
<div id="Posterize" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="Posterize_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Posterize_saveb" onclick="saveEditor('Posterize');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="Posterize_loadb" onclick="requestCode('Posterize');">Load</button>

<span class="ac_sep"></span>
<input type="button" class='btn btn-default ' id="audiob" name="Play Audio" value="Start Audio Tour" onclick="createAudioTourHTML('Posterize','import image*nline**nline*# CREATE AN IMAGE FROM A FILE*nline*img = image.Image*open**doubleq*arch.jpg*doubleq**close**nline**nline*# LOOP THROUGH ALL PIXELS*nline*for x in range*open*img.getWidth*open**close**close*:*nline*    for y in range*open*img.getHeight*open**close**close*:*nline*        p = img.getPixel*open*x, y*close**nline**nline*        r = p.getRed*open**close**nline*        g = p.getGreen*open**close**nline*        b = p.getBlue*open**close**nline**nline*        # VALUES FOR THE NEW COLOR*nline*        if r < 120:*nline*           r = 0*nline*        if r >= 120:*nline*           r = 120*nline*        if g < 120:*nline*           g = 0*nline*        if g >= 120:*nline*           g = 120*nline*        if b < 120:*nline*           b = 0*nline*        if b >= 120:*nline*           b = 120*nline**nline*        # CREATE THE COLOR*nline*        newPixel = image.Pixel*open*r,g,b*close**nline**nline*        # CHANGE THE IMAGE*nline*        img.setPixel*open*x, y, newPixel*close**nline**nline*win = image.ImageWin*open**close**nline*img.draw*open*win*close*','1','*doubleq*Structural Tour*doubleq*; 1: id3-line1; 4: id3-line4; 7-8: id3-line7-8; 9: id3-line9; 11-13: id3-line11-13; 16-17: id3-line16-17; 18-19: id3-line18-19; 20-21: id3-line20-21; 22-23: id3-line22-23; 24-25: id3-line24-25; 26-27: id3-line26-27; 30: id3-line30; 33: id3-line33; 35-36: id3-line35-36;*atype*')"/>

</div>
<br/>
<div id="Posterize_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="Posterize_code" class="active_code" prefixcode="undefined" lang="python">
import image

# CREATE AN IMAGE FROM A FILE
img = image.Image("arch.jpg")

# LOOP THROUGH ALL PIXELS
for x in range(img.getWidth()):
    for y in range(img.getHeight()):
        p = img.getPixel(x, y)

        r = p.getRed()
        g = p.getGreen()
        b = p.getBlue()

        # VALUES FOR THE NEW COLOR
        if r < 120:
           r = 0
        if r >= 120:
           r = 120
        if g < 120:
           g = 0
        if g >= 120:
           g = 120
        if b < 120:
           b = 0
        if b >= 120:
           b = 120

        # CREATE THE COLOR
        newPixel = image.Pixel(r,g,b)

        # CHANGE THE IMAGE
        img.setPixel(x, y, newPixel)

win = image.ImageWin()
img.draw(win)
</textarea>
</div>

<div class="ac_output">
<div style="text-align: center">
<canvas id="Posterize_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="Posterize_suffix" style="display:none">
</pre><pre id="Posterize_pre" class="active_out"></pre>

</div> <!-- end output --> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text"> (Posterize)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#Posterize_saveb').toggle();
    $('#Posterize_loadb').toggle();
}
if ($("#Posterize").attr("lang") !== "html" && $("#Posterize_code_div").parents(".admonition").length == 0 && $("#Posterize_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#Posterize_code_div").offset({
			left: $("#Posterize .clearfix").offset().left
		});
	}
	$("#Posterize_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#Posterize_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#Posterize_runb").parent().siblings(".ac_output").show();
			runit('Posterize',this, undefined);
			$("#Posterize_runb").on("click", function(){
				runit('Posterize',this, undefined);
			});
		})
		
	});
}
else{
	$("#Posterize_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#Posterize_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#Posterize_runb").on("click", function(){
		runit('Posterize',this, undefined);
	});
}
</script>

</div>


            <div id="15-posterize1" class="alert alert-warning">
            csp-15-2: How many different colors will be in our image when we are done?<form name="15-posterize1_form" method="get" action="" onsubmit="return false;">
            <input type="radio" name="group1" value="a" id="15-posterize1_opt_a" />
            <label for= "15-posterize1_opt_a">  a) 8</label><br />
            
            <input type="radio" name="group1" value="b" id="15-posterize1_opt_b" />
            <label for= "15-posterize1_opt_b">  b) 3</label><br />
            
            <input type="radio" name="group1" value="c" id="15-posterize1_opt_c" />
            <label for= "15-posterize1_opt_c">  c) 120</label><br />
            
            <input type="radio" name="group1" value="d" id="15-posterize1_opt_d" />
            <label for= "15-posterize1_opt_d">  d) 16,777,216 (= 256 * 256 * 256)</label><br />
            

            <script>
            $(document).ready(function(){checkRadio('15-posterize1');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMFStorage('15-posterize1','a',['Two possible values of each of red, green, and blue makes for 8 colors', 'Two values of each of red, green, and blue is more than 3.', 'Far fewer', 'That\u0027s the total number of colors possible.  But this code reduces that.'])">Check Me</button>
            <button class='btn btn-default' id="15-posterize1_bcomp" disabled name="compare" onclick="compareAnswers('15-posterize1');">Compare Me</button>
            </form><br />
            <div id="15-posterize1_feedback">
            </div>
            </div>
            <p>Rewrite the code for posterizing an image using if and else rather than multiple if&#8217;s.  Test that it still works correctly.</p>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <span id='numuserspan'></span> readers online now | <span class='loggedinuser'></span> | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Mark Guzdial, Barbara Ericson, and Briana Morrison.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3a0.
    </p>
  </div>
</footer>

<script type="text/javascript" charset="utf-8">
    $(document).ready(addUserToFooter);
    $(document).ready(addNavbarLoginLink);
    $(document).ready(createEditors);
    $(document).ready(getNumUsers);
    $(document).ready(getOnlineUsers);
    $(document).ready(createScratchActivecode());
    $(document).ready(styleUnittestResults());
</script>

<script type="text/javascript">
  // add the video play button overlay image
  $(".video-play-overlay").each(function() {
    $(this).css('background-image', "url(\'../_static/play_overlay_icon.png\')")
    });

  // This function is needed to allow the dropdown search bar to work;
  // The default behaviour is that the dropdown menu closes when something in
  // it (like the search bar) is clicked
  $(function() {
    // Fix input element click problem
    $('.dropdown input, .dropdown label').click(function(e) {
      e.stopPropagation();
      });
  });

  // style codelens buttons (doing it here because PyTutor is a submodule owned by someone else
  $(function() {
    $(".ExecutionVisualizer").each(function() {
      $(this).find("#jmpFirstInstr").addClass('btn btn-default');
      $(this).find("#jmpStepBack").addClass('btn btn-danger');
      $(this).find("#jmpStepFwd").addClass('btn btn-success');
      $(this).find("#jmpLastInstr").addClass('btn btn-default');
      });
  });

</script>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>